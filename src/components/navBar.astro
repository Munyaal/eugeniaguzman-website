---
import Menu from '../assets/svg/menu.svg';
---

<nav class="bg-navy-blue-400 shadow-lg z-20 fixed top-0 left-0 w-full flex">
  <div class="relative py-5 px-3 max-w-[1440px] w-full mx-auto flex items-center justify-between md:justify-between">
  
  
   <div class="absolute z-0 left-1/2 transform -translate-x-1/2 md:static md:transform-none md:left-auto md:translate-x-0 flex justify-center md:justify-start w-full md:w-auto">
    <img src="/images/logo-guzman-blanco.png" alt="Logo Blanco" class="w-32" />
  </div>

  <div class="md:hidden flex items-center ml-auto relative z-20"  id="toggle-menu">
    <Menu class="fill-white w-10 h-10" />
  </div>

  <div class="hidden md:flex gap-5 items-center text-white font-bold text-lg ml-auto">
    <button class="inicio">Inicio</button>
    <button class="sobreMi">Sobre MÃ­</button>
    <button class="mi-podcast">Podcast</button>
    <button class="mis-Marcas">Marcas</button>
    <button class="mi-contacto">Contacto</button>
  </div>
</div>
  

  <div class="md:hidden absolute top-full left-0 w-full bg-navy-blue-400 shadow-lg hidden flex-col gap-4 py-4 px-6 text-white font-bold text-lg" id="menu-items">
    <button class="inicio w-full text-center py-2">Inicio</button>
    <button class="sobreMi w-full text-center py-2">Sobre Mi</button>
    <button class="mi-podcast w-full text-center py-2">Podcast</button>
    <button class="mis-Marcas w-full text-center py-2">Marcas</button>
    <button class="mi-contacto w-full text-center py-2">Contacto</button>
  </div>
</nav>

<script>
  const toggleMenu = document.getElementById('toggle-menu');
  const menuItems = document.getElementById('menu-items');

  toggleMenu?.addEventListener("click", () => {
    // console.log("Toggle menu clicked");
    menuItems?.classList.toggle("hidden");
  });

 const handleOutside = (event: MouseEvent) => {
      const target = event.target as Node;
      if (!menuItems?.contains(target) && !toggleMenu?.contains(target)) {
         menuItems?.classList.add("hidden");
      }
   };

   document.addEventListener("mousedown", handleOutside);
</script>
<script >
import { gsap } from "gsap";
import { ScrollToPlugin } from 'gsap/dist/ScrollToPlugin';

gsap.registerPlugin(ScrollToPlugin);

document.querySelectorAll(".inicio").forEach(button => {
  button.addEventListener("click", () => {
    gsap.to(window, {
      scrollTo: 0,
      duration: 0.6,
      ease: "power1.inOut",
    });
    document.getElementById("menu-items")?.classList.add("hidden");
  });
});

document.querySelectorAll(".sobreMi").forEach(button => {
  button.addEventListener("click", () => {
    gsap.to(window, {
      scrollTo: "#sobre-mi",
      duration: 0.6,
      ease: "power1.inOut",
    });
    document.getElementById("menu-items")?.classList.add("hidden");
  });
});

document.querySelectorAll(".mi-podcast").forEach(button => {
  button.addEventListener("click", () => {
    gsap.to(window, {
      scrollTo: "#podcast",
      duration: 0.6,
      ease: "power1.inOut",
    });
    document.getElementById("menu-items")?.classList.add("hidden");
  });
});

document.querySelectorAll(".mis-Marcas").forEach(button => {
  button.addEventListener("click", () => {
    gsap.to(window, {
      scrollTo: "#mis-marcas",
      duration: 0.6,
      ease: "power1.inOut",
    });
    document.getElementById("menu-items")?.classList.add("hidden");
  });
});

document.querySelectorAll(".mi-contacto").forEach(button => {
  button.addEventListener("click", () => {
    gsap.to(window, {
      scrollTo: "#contacto",
      duration: 0.6,
      ease: "power1.inOut",
    });
    document.getElementById("menu-items")?.classList.add("hidden");
  });
});
</script>